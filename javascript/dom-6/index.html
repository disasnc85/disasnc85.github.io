<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <title>Greeting form</title>
  </head>

  <body>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      ;
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      ;
      crossorigin="anonymous"
      ;
    ></script>
    <script>
      const body = document.querySelector("body");
      const form = document.createElement("form");

      const h1 = getHeading();
      const button = getGreetButton();
      const { input, label } = getGreetInputTextElement(); // ES6 ModernJs --> Object Destructuring
      const divElement = document.createElement("div");

      body.prepend(h1);
      h1.insertAdjacentElement("afterend", form);
      form.insertAdjacentElement("afterbegin", label);
      label.insertAdjacentElement("afterend", input);
      form.insertAdjacentElement("afterend", divElement);
      input.insertAdjacentElement("afterend", button);

      // ES6 ModernJs --> Truthy / Falsy
      // let s = ""; // false
      // s = undefined; // false
      // s = null; // false
      // s = "a.."; // true
      input.addEventListener("input", (e) => {
        e.preventDefault();
        e.stopPropagation();
        const f = e.target.value;
        button.disabled = !f;
      });

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        e.stopPropagation();
        const f = e.target;
        divElement.innerHTML = f.elements[0].value;
        f.reset();
      });

      function getHeading() {
        const h1 = document.createElement("h1");
        h1.innerHTML = "Hello World";

        return h1;
      }

      function getGreetButton() {
        const button = document.createElement("button");
        button.setAttribute("type", "submit");
        button.innerHTML = "Greet";
        button.disabled = true;
        return button;
      }

      function getGreetInputTextElement() {
        const elmName = "name";
        const input = document.createElement("input");
        const label = document.createElement("label");

        label.setAttribute("for", elmName);
        label.innerHTML = "name";

        input.setAttribute("type", "text");
        input.setAttribute("placeholder", "name");
        input.setAttribute("name", elmName);
        input.setAttribute("id", elmName);

        return { label, input };
      }
    </script>
  </body>
</html>
